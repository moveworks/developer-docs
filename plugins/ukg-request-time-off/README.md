---
availability: INSTALLABLE
description: Streamlines the time-off request process by allowing employees and managers (on behalf of employees) to submit, validate, and check the status of PTO through the AI Assistant.
name: Submit PTO Request
installation_asset_uuid: 13fcb196-fadb-4a5a-bac3-faea51497db2
purple_chat_link: https://marketplace.moveworks.com/purple-chat?conversation=%7B%22messages%22%3A%5B%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EI%27d+like+to+take+some+time+off+%3C%2Fp%3E%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3EAuthenticating+user+in+%3Cstrong%3EUKG+WFM%3C%2Fstrong%3E+...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EI+can+help+with+that.+What+type+of+leave%2C+dates%2C+and+duration+would+you+like+to+request%3F+%28e.g.%2C+Vacation+on+December+5th%2C+full+day%29%3C%2Fp%3E%22%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22I%27ll+use+Vacation+from+August+12th+to+August+14th%2C+full+days.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3EIdentifying+manager+and+verifying+schedule+in+%3Cb%3EUKG%3C%2Fb%3E...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EOkay%2C+I%27ve+prepared+your+%3Cb%3EUKG%3C%2Fb%3E+request.+It+will+be+sent+to+your+manager%2C+%3Cb%3EMarcus+Thorne%3C%2Fb%3E%2C+for+approval.%3C%2Fp%3E%3Cul%3E%3Cli%3E%3Cb%3EType%3C%2Fb%3E%3A+Vacation%3C%2Fli%3E%3Cli%3E%3Cb%3EDates%3C%2Fb%3E%3A+Aug+12+-+14%2C+2025%3C%2Fli%3E%3Cli%3E%3Cb%3ETotal+Duration%3C%2Fb%3E%3A+3+days+%2824+hours%29%3C%2Fli%3E%3C%2Ful%3E%3Cp%3E%3Cb%3EDoes+this+look+right%3F%3C%2Fb%3E%3C%2Fp%3E%22%7D%2C%7B%22buttons%22%3A%5B%7B%22buttonText%22%3A%22Yes%22%2C%22style%22%3A%22filled%22%7D%2C%7B%22buttonText%22%3A%22Cancel%22%2C%22style%22%3A%22outlined%22%7D%5D%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22Yes%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3ESubmitting+PTO+request+to+%3Cb%3EUKG+WFM%3C%2Fb%3E...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EYour+PTO+request+has+been+successfully+submitted.+Your+manager+has+been+notified+for+approval.%3C%2Fp%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22ukg%22%2C%22citationTitle%22%3A%22PTO+Request%3A+Aug+12+-+Aug+14%22%7D%5D%7D%5D%7D%5D%7D
solution_tags:
- HR - Other
- HR - Time & Absence
systems:
- ukg
---

# Description

Streamlines the time-off request process by allowing employees and managers (on behalf of employees) to submit, validate, and check the status of PTO through the AI Assistant.

# User Experience Preview

Please refer to the following [**Purple Chat**](https://marketplace.moveworks.com/purple-chat?conversation=%7B%22messages%22%3A%5B%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EI%27d+like+to+take+some+time+off+%3C%2Fp%3E%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3EAuthenticating+user+in+%3Cstrong%3EUKG+WFM%3C%2Fstrong%3E+...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EI+can+help+with+that.+What+type+of+leave%2C+dates%2C+and+duration+would+you+like+to+request%3F+%28e.g.%2C+Vacation+on+December+5th%2C+full+day%29%3C%2Fp%3E%22%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22I%27ll+use+Vacation+from+August+12th+to+August+14th%2C+full+days.%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3EIdentifying+manager+and+verifying+schedule+in+%3Cb%3EUKG%3C%2Fb%3E...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EOkay%2C+I%27ve+prepared+your+%3Cb%3EUKG%3C%2Fb%3E+request.+It+will+be+sent+to+your+manager%2C+%3Cb%3EMarcus+Thorne%3C%2Fb%3E%2C+for+approval.%3C%2Fp%3E%3Cul%3E%3Cli%3E%3Cb%3EType%3C%2Fb%3E%3A+Vacation%3C%2Fli%3E%3Cli%3E%3Cb%3EDates%3C%2Fb%3E%3A+Aug+12+-+14%2C+2025%3C%2Fli%3E%3Cli%3E%3Cb%3ETotal+Duration%3C%2Fb%3E%3A+3+days+%2824+hours%29%3C%2Fli%3E%3C%2Ful%3E%3Cp%3E%3Cb%3EDoes+this+look+right%3F%3C%2Fb%3E%3C%2Fp%3E%22%7D%2C%7B%22buttons%22%3A%5B%7B%22buttonText%22%3A%22Yes%22%2C%22style%22%3A%22filled%22%7D%2C%7B%22buttonText%22%3A%22Cancel%22%2C%22style%22%3A%22outlined%22%7D%5D%7D%5D%7D%2C%7B%22role%22%3A%22user%22%2C%22parts%22%3A%5B%7B%22richText%22%3A%22Yes%22%7D%5D%7D%2C%7B%22role%22%3A%22assistant%22%2C%22parts%22%3A%5B%7B%22reasoningSteps%22%3A%5B%7B%22status%22%3A%22success%22%2C%22richText%22%3A%22%3Cp%3ESubmitting+PTO+request+to+%3Cb%3EUKG+WFM%3C%2Fb%3E...%3C%2Fp%3E%22%2C%22connectorName%22%3A%22ukg%22%7D%5D%7D%2C%7B%22richText%22%3A%22%3Cp%3EYour+PTO+request+has+been+successfully+submitted.+Your+manager+has+been+notified+for+approval.%3C%2Fp%3E%22%7D%2C%7B%22citations%22%3A%5B%7B%22connectorName%22%3A%22ukg%22%2C%22citationTitle%22%3A%22PTO+Request%3A+Aug+12+-+Aug+14%22%7D%5D%7D%5D%7D%5D%7D) for a sample conversational experience between a user and the AI Assistant for this plugin.

# Pre-requisites

Before installing and using the **Submit PTO Request** plugin, please ensure the following requirements are met:

## **1. UKG Connector**

This plugin requires an active **UKG connector** - **user consent auth** and **client credentials auth** to communicate with your UKG instance.

- If you have not already configured the connector, please follow the [UKG Connector Guide](https://marketplace.moveworks.com/connectors/ukg) available in the Moveworks Marketplace.
- The connector must be fully set up before installing this plugin.
- Once the connector is successfully configured, follow our [**plugin installation documentation**](https://help.moveworks.com/docs/ai-agent-marketplace-installation) for detailed steps on how to install and activate the plugin in **Agent Studio**.

**Note:** UKG’s user-consent authorization expires every 24 hours, requiring users to reauthorize once per day. This is a known limitation, and support for handling such short-lived refresh tokens is being built on Moveworks.

## **2. UKG System Requirements**

### **End User Permissions (Employee Persona)**

To submit a PTO request through this plugin, employees must already have permission to submit PTO requests in UKG WFM — the same permissions required to submit PTO request through the UKG WFM UI.

At a minimum, end users must have:

- **Time Off permissions** that allow:
    - Viewing available Time Off Types
    - Submitting a Time Off request
- Access to their own **employee profile and time account balances**

**Note**: The plugin does not grant new permissions. It respects existing role-based permissions and policies granted to the user in UKG WFM.

# **Implementation details**

## Visual Representation of How the Plugin Works

![image.png](Submit%20PTO%20Request/image.png)

## API Details

Before running the cURL examples below, replace `<YOUR_UKG_HOST>` with your actual UKG hostname.

**Admin Checklist: How to Find Your UKG Hostname**

1. Log in to your UKG account.
2. Check the URL in your browser’s address bar.
3. Your hostname will follow one of these formats (examples):
    - `https://acme-dev.cfn.mykronos.com`
    - `https://acme-test.cfn.mykronos.com`
    - `https://acme-uat.cfn.mykronos.com`
    - `https://acme-prod.cfn.mykronos.com`

Use the full hostname (e.g., `acme-prod.cfn.mykronos.com`) when replacing `<YOUR_UKG_HOST>` in the cURL commands.

### **API #1: Get a User’s UKG ID based on their Email**

This REST API is used to fetch employee details (such as **User ID, name, and email**) from UKG using the employee’s email address. 

```bash
curl --request POST \
  --url https://<YOUR_UKG_HOST>/api/v1/commons/persons/extensions/multi_read \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json' \
  --data '{
  "where": {
    "employees": {
      "key": "useremailaddress",
      "values": [
        "{{USER_EMAIL_ADDRESS}}"
      ]
    },
    "includeBaseWages": false,
    "includeAccrualPolicyDetails": false
  }
```

**Query Parameters:**

- `USER_EMAIL_ADDRESS` *(string):* Email address of the logged in employee.

### **API #2: Lookup Current User**

This REST API is used to **retrieve current user details** in UKG. 

```bash
curl --request GET \
  --url 'https://<YOUR_UKG_HOST>/api/v1/commons/persons/current_user_info?include_contact_information=true' \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json'
```

**Query Parameters:**

- None.

### **API #3: Retrieve Direct Reports**

This REST API is used to retrieve the current user (manager’s) direct reports from UKG WFM using a hyperfind.

```bash
curl --request POST \
  --url https://<YOUR_UKG_HOST>/api/v1/commons/hyperfind/execute \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json' \
  --data '{
  "dateRange": {
    "symbolicPeriod": {
      "qualifier": "Current_Payperiod"
    }
  },
  "hyperfind": {
    "qualifier": "My Direct Reports"
  }
}'
```

**Key nuances:**

- Make sure we have a hyperfind query named “**My Direct Reports**” created in the tenant. If not, please create one before running the use case. Details on how to create a hyperfind query can be found [here](https://customer2.kronos.com/support/kol/onlinehelp-workforcedimensions/en-us/content/mastertopics/hyperfind/HyperFindqueries.htm).
- This API relies on a **symbolic pay period** configured in the UKG WFM tenant.
- The example uses the symbolic period `Current_Payperiod`, which must exist and be active in the tenant configuration.
- If your tenant uses a different symbolic period name (for example, `Current_Pay_Period`, `Current`, or a custom pay period), update the request body to match the exact qualifier configured in your environment.

### **API #4: Retrieve Leave Sub Types as a Manger**

This REST API is used to fetch leave sub types details from UKG WFM using the Manager’s employee number.

```bash
curl --request GET \
  --url 'https://<YOUR_UKG_HOST>/api/v1/scheduling/timeoff/request_subtypes?person_number={{USER_NUMBER}}' \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json'
```

**Query Parameters:**

- `USER_NUMBER`*(string):* Manager’s employee number in UKG.

### **API #5: Retrieve Request Sub Types as an Employee**

This REST API is used to fetch leave sub types available as an employee.

```bash
curl --request GET \
  --url https://<YOUR_UKG_HOST>/api/v1/scheduling/employee_timeoff/request_subtypes \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json'
```

**Query Parameters:**

- None.

### **API #6: Submit a PTO Request as an Employee**

This API is used to submit a time off request as an employee persona.

```bash
curl --request POST \
  --url https://<YOUR_UKG_HOST>/api/v1/scheduling/employee_timeoff \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json' \
  --data '{
    "requestSubType": {
        "name": "{{SUBTYPE_NAME}}"
    },
    "periods": [
        {
            "payCode": {
                "id": {{PAYCODE_ID}}
            },
            "endDate": "{{END_DATE}}",
            "startTime": "{{START_TIME}}",
            "duration": {{DURATION}},
            "startDate": "{{START_DATE}}",
            "symbolicAmount": {
                "qualifier": "HOURS"
            }
        }
    ],
    "commentNotes": [
        {
            "comment": {
                "active": true,
                "name": "Request Comment"
            },
            "notes": [
                {
                    "text": "{{COMMENT_TEXT}}",
                    "dataSourceDisplayName": "{{USERNAME}}"
                }
            ]
        }
    ]
}'
```

**Query Parameters:**

- `SUBTYPE_NAME` *(string):* PTO leave type being requested.
- `PAYCODE_ID` *(string):* Fetched from API #4/5 of the subtype.
- `START_DATE` *(string):* Date when time off request starts.
- `START_TIME` *(string):* Time when time off request starts.
- `END_DATE` *(string):* Date when time off request ends.
- `DURATION` *(string):* Duration for which User want the time off to be submitted.
- `COMMENT_TEXT` *(string):* Request comment if provided by the employee.
- `USERNAME` *(string):* User name of the employee.

### **API #7: Submit a PTO Request as a Manager**

This API is used to submit a time off request as a manager persona.

```bash
curl --request POST \
  --url https://<YOUR_UKG_HOST>/api/v1/scheduling/timeoff \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json' \
  --data '{
    "timeOffRequest": {
        "requestSubType": {
            "name": "{{SUBTYPE_NAME}}"
        },
        "periods": [
            {
                "startTime": "{{START_TIME}}",
                "duration": {{DURATION}}
                "endDate": "{{END_DATE}}",
                "payCode": {
                    "id": {{PAYCODE_ID}}
                },
                "startDate": "{{START_DATE}}",
                "symbolicAmount": {
                    "qualifier": "HOURS"
                }
            }
        ],
        "employee": {
            "id": {{USER_ID}}
        },
        "commentNotes": [
            {
                "comment": {
                    "active": true,
                    "name": "Request Comment"
                },
                "notes": [
                    {
                        "text": "{{COMMENT_TEXT}}",
                        "dataSourceDisplayName": "{{USERNAME}}"
                    }
                ]
            }
        ]
    }
}'
```

**Query Parameters:**

- `SUBTYPE_NAME` *(string):* PTO leave type being requested.
- `PAYCODE_ID` *(string):* Fetched from API #4/5 of the subtype.
- `START_DATE` *(string):* Date when time off request starts.
- `START_TIME` *(string):* Time when time off request starts.
- `END_DATE` *(string):* Date when time off request ends.
- `DURATION` *(string):* Duration for which user want the time off to be submitted
- `USER_ID` *(string):* Person_number of the direct reportee.
- `COMMENT_TEXT` *(string):* Request comment if provided by the employee.
- `USERNAME` *(string):* User name of the employee.

### **API #8: Retrieve PTO Request by PTO ID**

This REST API is used to fetch the details for a specific PTO request from UKG WFM using the ID of the PTO request.

```bash
curl --request GET \
  --url 'https://<YOUR_UKG_HOST>/api/v1/scheduling/timeoff/{{PTO_ID}}?include_overridden_shifts=false' \
  --header 'Authorization: {{access_token}}' \
  --header 'Content-Type: application/json'
```

**Query Parameters:**

- `PTO_ID` *(string):* The ID number of the PTO request to retrieve.

### API References

This plugin use **UKG WFM Pro Time Management REST APIs** to retrieve employee information, determine eligible PTO time types, and check PTO balance.

For detailed information on request parameters, response formats, error handling, and versioning, please refer to the [**official UKG API documentation**](https://developer.ukg.com/wfm/reference/welcome-to-the-ukg-pro-workforce-management-api) provided by UKG.

# **What Is In Scope for This Plugin?**

This plugin supports the following capabilities:

- Submitting PTO for **limited leave types** (e.g., Vacation, Sick Leave, Casual Leave, Earned Leave, Comp Time).
- Initiating a PTO request on behalf of a direct report if I am a manager (e.g., "Apply for a sick leave for John from my team on 5th and 6th Feb")
- Submitting leave requests for both past and future dates (e.g., to log unplanned absences, like sick leave or emergency time off, after they have already occurred).
- Articulating the PTO dates and date ranges in several formats (e.g., Wednesday, 12th–15th Dec, Tuesday next week, 3rd week of Dec).
- Requesting partial time off by specifying units if the leave type supports it (e.g., like "half-day," "first-half”, “second-half," or specific hours "request 2 hours off tomorrow").
- Adding a comment while applying for PTO.
- Clear messaging when attempt to submit a PTO request that overlaps or conflicts with an existing leave record or insufficient PTO balance available.

# **What Is Out of Scope for This Plugin?**

This plugin does **not** support the following:

- Submitting PTO for **non-limited or leave-of-absence types**, such as parental leave, FMLA, or long-term disability.
- Proactively surfacing **public holidays, and/ or weekends.**