---
description: A plugin that allows the user to add a comment to a post on Stack Overflow.
difficulty_level: BEGINNER
fidelity: TEMPLATE
time_in_minutes: 30
installation_asset_uuid: 05c83873-8138-482d-96cc-60d97e8934fc
name: Add comment on post
purple_chat_link: https://developer.moveworks.com/creator-studio/developer-tools/purple-chat?conversation=%7B%22startTimestamp%22%3A%2211%3A43%2BAM%22%2C%22messages%22%3A%5B%7B%22parts%22%3A%5B%7B%22richText%22%3A%22search+for+%5C%22duplicate+records%5C%22+on+stackoverflow%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EI%27m+currently+searching+for+information+on+%3Cb%3E%5C%22duplicate+records%5C%22%3C%2Fb%3E+on+Stack+Overflow.%26nbsp%3B%3C%2Fp%3E%22%7D%2C%7B%22reasoningSteps%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EThis+process+is+ongoing%2C+and+I%27ll+update+you+once+I+have+the+results.%3C%2Fp%3E%22%2C%22status%22%3A%22pending%22%7D%5D%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EHere+are+some+solutions+related+to+handling+%3Cb%3Eduplicate+records%3C%2Fb%3E%3A+%3Cbr%2F%3E1.+%3Cb%3EHow+to+Delete+Duplicate+Records+in+a+SQL+Table%3C%2Fb%3E%3A+If+you+need+to+remove+duplicate+records+while+keeping+only+one+instance+of+each%2C+you+can+refer+to+this+%3Ca+href%3D%5C%22%23%5C%22+target%3D%5C%22_blank%5C%22%3EStack+Overflow+question%3C%2Fa%3E+for+guidance.%3Cbr%2F%3E%3Cbr%2F%3E+2.+%3Cb%3EHow+to+Write+a+SQL+Query+to+Find+Duplicate+Records+in+a+Table%3C%2Fb%3E%3A+If+you+want+to+identify+duplicate+entries+based+on+a+specific+column%2C+such+as+the+email+column%2C+you+can+check+out+this+%3Ca+href%3D%5C%22%23%5C%22+target%3D%5C%22_blank%5C%22%3EStack+Overflow+question%3C%2Fa%3E+for+a+detailed+explanation.%26nbsp%3B%3C%2Fp%3E%3Cp%3E%3Cbr%2F%3E%3C%2Fp%3E%3Cp%3EAdditionally%2C+I+can+access+more+information+on+these+questions+if+needed.+Let+me+know+if+you+need+further+assistance%21%3C%2Fp%3E%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22give+ans+for+1%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22I%27m+currently+retrieving+the+answer+for+the+question+on+how+to+delete+duplicate+records+in+a+SQL+table.%22%7D%2C%7B%22reasoningSteps%22%3A%5B%7B%22richText%22%3A%22I%27ll+update+you+once+I+have+the+information.%22%2C%22status%22%3A%22pending%22%7D%5D%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EHere+are+solutions+for+deleting+%3Cstrong%3Eduplicate+records%3C%2Fstrong%3E+in+a+SQL+table%3A%26nbsp%3B%3C%2Fp%3E%5Cn%3Cp%3E1.+%3Cstrong%3EUsing+a+Subquery%3C%2Fstrong%3E%3A+-+You+can+use+a+subquery+to+identify+the+IDs+of+the+duplicate+entries+and+then+delete+those+that+aren%27t+needed%3A%3C%2Fp%3E%22%7D%2C%7B%22apiBlock%22%3A%7B%22code%22%3A%22sql%5Cn++DELETE+FROM+customers%5Cn++WHERE+id+NOT+IN+%28%5Cn++++++SELECT+MIN%28id%29%5Cn++++++FROM+customers%5Cn++++++GROUP+BY+email%5Cn++%29%3B%22%2C%22caption%22%3A%22SQL+query+to+delete+duplicate+records+using+a+subquery%22%7D%7D%2C%7B%22richText%22%3A%22%3Cp%3E-+%3Cstrong%3EExplanation%3C%2Fstrong%3E%3A+-+%3Cstrong%3EIdentifying+Duplicates%3C%2Fstrong%3E%3A+The+subquery+%3Ccode%3ESELECT+MIN%28id%29+FROM+customers+GROUP+BY+email%3C%2Fcode%3E+selects+the+smallest+%3Ccode%3Eid%3C%2Fcode%3E+for+each+%3Ccode%3Eemail%3C%2Fcode%3E%2C+effectively+identifying+one+%5C%22canonical%5C%22+instance+of+each+email.%26nbsp%3B%3C%2Fp%3E%5Cn%3Cp%3E-+%3Cstrong%3EDeleting+Duplicates%3C%2Fstrong%3E%3A+The+%3Ccode%3EDELETE%3C%2Fcode%3E+statement+removes+entries+from+the+%3Ccode%3Ecustomers%3C%2Fcode%3E+table+where+the+%3Ccode%3Eid%3C%2Fcode%3E+is+not+in+the+list+of+canonical+instances%2C+thereby+deleting+the+duplicates+while+keeping+one+instance+of+each+email.+-+This+approach+assumes+that+there%27s+a+unique+%3Ccode%3Eid%3C%2Fcode%3E+column+in+your+table+that+can+be+used+to+distinctly+identify+records.+It+is+simple+and+efficient%2C+but+be+sure+you+have+appropriate+backups+or+transactions+in+case+you+need+to+restore+data.%3C%2Fp%3E%5Cn%3Cp%3E2.+%3Cstrong%3EUsing+a+Common+Table+Expression+%28CTE%29%3C%2Fstrong%3E%3A+-+You+can+use+a+%3Ccode%3EDELETE%3C%2Fcode%3E+statement+with+a+%3Ccode%3ECTE%3C%2Fcode%3E+that+ranks+the+duplicate+entries+and+retains+only+one+record%3A%3C%2Fp%3E%22%7D%2C%7B%22apiBlock%22%3A%7B%22code%22%3A%22sql%5Cn+WITH+RankedEmails+AS+%28%5Cn++SELECT+*%2C%5Cn+++ROW_NUMBER%28%29+OVER+%28PARTITION+BY+email+ORDER+BY+%28SELECT+NULL%29%29+AS+rn%5Cn++FROM+customers%5Cn+%29%5Cn+DELETE+FROM+RankedEmails%5Cn+WHERE+rn+%3E+1%3B%22%2C%22caption%22%3A%22SQL+query+to+delete+duplicate+records+using+CTE%22%7D%7D%2C%7B%22richText%22%3A%22%3Cp%3E-+This+query+assigns+a+row+number+to+each+duplicate+record+grouped+by+the+%3Ccode%3Eemail%3C%2Fcode%3E+column.+It+keeps+the+first+occurrence+and+deletes+the+rest.%3C%2Fp%3E%5Cn%3Cp%3EThese+solutions+should+help+you+manage+duplicate+records+effectively.+Let+me+know+if+you+need+further+assistance%21%3C%2Fp%3E%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22add+comment+%5C%22this+worked+for+me%5C%22+for+the+second+ans%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22I%27m+currently+adding+your+comment+%5C%22this+worked+for+me%5C%22+to+the+second+answer.+I%27ll+update+you+once+the+process+is+complete.%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cstrong%3EUpdate+regarding+adding+a+comment%3C%2Fstrong%3E%3A+Your+comment+%5C%22this+worked+for+me%5C%22+has+been+successfully+added+to+the+second+answer.%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%5D%7D
solution_tags:
- Productivity
systems:
- stackoverflow

---
# **Introduction**

The **Add Comment to a Post** plugin enhances the Moveworks AI Assistant by enabling users to add comments to posts within their organization’s private Stack Overflow for Teams knowledge base directly from their chat interface. This integration empowers team members to contribute insights, ask for clarifications, or share feedback on specific posts, facilitating richer collaboration and knowledge sharing without leaving the Moveworks environment.

# Prerequisites

- Access to Agent Studio
- [Stackoverflow Connector](https://developer.moveworks.com/creator-studio/resources/connector/?id=stackoverflow) set up in Creator Studio.
- [Search for a question plugin](https://developer.moveworks.com/creator-studio/resources/plugin/?id=stackoverflow-search-question)

# What are we building?

## Agent Design

This [purple chat](https://developer.moveworks.com/creator-studio/developer-tools/purple-chat?conversation=%7B%22startTimestamp%22%3A%2211%3A43%2BAM%22%2C%22messages%22%3A%5B%7B%22parts%22%3A%5B%7B%22richText%22%3A%22search+for+%5C%22duplicate+records%5C%22+on+stackoverflow%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EI%27m+currently+searching+for+information+on+%3Cb%3E%5C%22duplicate+records%5C%22%3C%2Fb%3E+on+Stack+Overflow.%26nbsp%3B%3C%2Fp%3E%22%7D%2C%7B%22reasoningSteps%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EThis+process+is+ongoing%2C+and+I%27ll+update+you+once+I+have+the+results.%3C%2Fp%3E%22%2C%22status%22%3A%22pending%22%7D%5D%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EHere+are+some+solutions+related+to+handling+%3Cb%3Eduplicate+records%3C%2Fb%3E%3A+%3Cbr%2F%3E1.+%3Cb%3EHow+to+Delete+Duplicate+Records+in+a+SQL+Table%3C%2Fb%3E%3A+If+you+need+to+remove+duplicate+records+while+keeping+only+one+instance+of+each%2C+you+can+refer+to+this+%3Ca+href%3D%5C%22%23%5C%22+target%3D%5C%22_blank%5C%22%3EStack+Overflow+question%3C%2Fa%3E+for+guidance.%3Cbr%2F%3E%3Cbr%2F%3E+2.+%3Cb%3EHow+to+Write+a+SQL+Query+to+Find+Duplicate+Records+in+a+Table%3C%2Fb%3E%3A+If+you+want+to+identify+duplicate+entries+based+on+a+specific+column%2C+such+as+the+email+column%2C+you+can+check+out+this+%3Ca+href%3D%5C%22%23%5C%22+target%3D%5C%22_blank%5C%22%3EStack+Overflow+question%3C%2Fa%3E+for+a+detailed+explanation.%26nbsp%3B%3C%2Fp%3E%3Cp%3E%3Cbr%2F%3E%3C%2Fp%3E%3Cp%3EAdditionally%2C+I+can+access+more+information+on+these+questions+if+needed.+Let+me+know+if+you+need+further+assistance%21%3C%2Fp%3E%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22give+ans+for+1%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22I%27m+currently+retrieving+the+answer+for+the+question+on+how+to+delete+duplicate+records+in+a+SQL+table.%22%7D%2C%7B%22reasoningSteps%22%3A%5B%7B%22richText%22%3A%22I%27ll+update+you+once+I+have+the+information.%22%2C%22status%22%3A%22pending%22%7D%5D%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cp%3EHere+are+solutions+for+deleting+%3Cstrong%3Eduplicate+records%3C%2Fstrong%3E+in+a+SQL+table%3A%26nbsp%3B%3C%2Fp%3E%5Cn%3Cp%3E1.+%3Cstrong%3EUsing+a+Subquery%3C%2Fstrong%3E%3A+-+You+can+use+a+subquery+to+identify+the+IDs+of+the+duplicate+entries+and+then+delete+those+that+aren%27t+needed%3A%3C%2Fp%3E%22%7D%2C%7B%22apiBlock%22%3A%7B%22code%22%3A%22sql%5Cn++DELETE+FROM+customers%5Cn++WHERE+id+NOT+IN+%28%5Cn++++++SELECT+MIN%28id%29%5Cn++++++FROM+customers%5Cn++++++GROUP+BY+email%5Cn++%29%3B%22%2C%22caption%22%3A%22SQL+query+to+delete+duplicate+records+using+a+subquery%22%7D%7D%2C%7B%22richText%22%3A%22%3Cp%3E-+%3Cstrong%3EExplanation%3C%2Fstrong%3E%3A+-+%3Cstrong%3EIdentifying+Duplicates%3C%2Fstrong%3E%3A+The+subquery+%3Ccode%3ESELECT+MIN%28id%29+FROM+customers+GROUP+BY+email%3C%2Fcode%3E+selects+the+smallest+%3Ccode%3Eid%3C%2Fcode%3E+for+each+%3Ccode%3Eemail%3C%2Fcode%3E%2C+effectively+identifying+one+%5C%22canonical%5C%22+instance+of+each+email.%26nbsp%3B%3C%2Fp%3E%5Cn%3Cp%3E-+%3Cstrong%3EDeleting+Duplicates%3C%2Fstrong%3E%3A+The+%3Ccode%3EDELETE%3C%2Fcode%3E+statement+removes+entries+from+the+%3Ccode%3Ecustomers%3C%2Fcode%3E+table+where+the+%3Ccode%3Eid%3C%2Fcode%3E+is+not+in+the+list+of+canonical+instances%2C+thereby+deleting+the+duplicates+while+keeping+one+instance+of+each+email.+-+This+approach+assumes+that+there%27s+a+unique+%3Ccode%3Eid%3C%2Fcode%3E+column+in+your+table+that+can+be+used+to+distinctly+identify+records.+It+is+simple+and+efficient%2C+but+be+sure+you+have+appropriate+backups+or+transactions+in+case+you+need+to+restore+data.%3C%2Fp%3E%5Cn%3Cp%3E2.+%3Cstrong%3EUsing+a+Common+Table+Expression+%28CTE%29%3C%2Fstrong%3E%3A+-+You+can+use+a+%3Ccode%3EDELETE%3C%2Fcode%3E+statement+with+a+%3Ccode%3ECTE%3C%2Fcode%3E+that+ranks+the+duplicate+entries+and+retains+only+one+record%3A%3C%2Fp%3E%22%7D%2C%7B%22apiBlock%22%3A%7B%22code%22%3A%22sql%5Cn+WITH+RankedEmails+AS+%28%5Cn++SELECT+*%2C%5Cn+++ROW_NUMBER%28%29+OVER+%28PARTITION+BY+email+ORDER+BY+%28SELECT+NULL%29%29+AS+rn%5Cn++FROM+customers%5Cn+%29%5Cn+DELETE+FROM+RankedEmails%5Cn+WHERE+rn+%3E+1%3B%22%2C%22caption%22%3A%22SQL+query+to+delete+duplicate+records+using+CTE%22%7D%7D%2C%7B%22richText%22%3A%22%3Cp%3E-+This+query+assigns+a+row+number+to+each+duplicate+record+grouped+by+the+%3Ccode%3Eemail%3C%2Fcode%3E+column.+It+keeps+the+first+occurrence+and+deletes+the+rest.%3C%2Fp%3E%5Cn%3Cp%3EThese+solutions+should+help+you+manage+duplicate+records+effectively.+Let+me+know+if+you+need+further+assistance%21%3C%2Fp%3E%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22add+comment+%5C%22this+worked+for+me%5C%22+for+the+second+ans%22%7D%5D%2C%22role%22%3A%22user%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22I%27m+currently+adding+your+comment+%5C%22this+worked+for+me%5C%22+to+the+second+answer.+I%27ll+update+you+once+the+process+is+complete.%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%2C%7B%22parts%22%3A%5B%7B%22richText%22%3A%22%3Cstrong%3EUpdate+regarding+adding+a+comment%3C%2Fstrong%3E%3A+Your+comment+%5C%22this+worked+for+me%5C%22+has+been+successfully+added+to+the+second+answer.%22%7D%5D%2C%22role%22%3A%22assistant%22%7D%5D%7D) shows the experience we are going to build.

# Installation Steps

While you can create a connector during plugin installation, we do recommend that you create a connector in Agent Studio before installing this plugin to streamline the process. Please follow our [**Stack Overflow Connector Guide**](https://developer.moveworks.com/creator-studio/resources/connector/?id=stackoverflow) to do so. Once you have done this, simply follow our plugin installation documentation to get your plugin installed in minutes.

# Appendix

```bash
curl --request POST "https://{your_organisation}.stackenterprise.co/api/2.3/posts/{{id}}/comments/add?body={{comment}}&key={{your_key}}" \
     --header "Authorization: Bearer {{access_token}}"
```

- **Query Parameters:**
    - Replace **`{{id}}`** with the ID of the post you wish to comment on.
    - **`body={{comment}}`**: This is the query parameter for the comment text. Replace **`{{comment}}`** with the actual comment text. Make sure the comment text is properly URL encoded, especially if it contains spaces or special characters.
    - **`key={{your_key}}`**: Your API key for authenticating the request. Replace **`{{your_key}}`** with your actual API key.
- **Header:**
    - **`Authorization: Bearer {{access_token}}`**: Uses a bearer token for authentication. Replace **`{{access_token}}`** with your actual access token.